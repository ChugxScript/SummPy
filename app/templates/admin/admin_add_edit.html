<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin_add_edit.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>
    <title>SummPy | COS Library</title>
</head>
<body>
    <div class="student-cos-library-books">
        <div class="header">
            <a href="{{ url_for('home.home_page') }}">
                <img src="{{ url_for('static', filename='images/LOGO.gif') }}" alt="Logo" class="logo-img">
            </a>
            <div id="navbar">
                <a href="{{url_for('home.home_page')}}">HOME</a>
                <a href="{{url_for('how_to_use.how_to_use_page')}}">HOW TO USE</a>
                <a href="{{url_for('about_us.about_us_page')}}">ABOUT US</a>
                <a href="{{url_for('donate.donate_page')}}">DONATE</a>
            </div>
        </div>

        <div class="content-containers">
            <div class="side-bar-menu">
                <div id="dashboard_tab" class="side-bar-tabs">
                    <img src="{{ url_for('static', filename='images/dashboard_icon1.png') }}" alt="">
                    <p>Dashboard</p>
                </div>
                <p class="books-tabs">Books</p>
                <div id="under_graduate_tab" class="side-bar-tabs">
                    <img src="{{ url_for('static', filename='images/under_graduate_icon1.png') }}" alt="">
                    <p>Under Graduate</p>
                </div>
                <div id="graduate_tab" class="side-bar-tabs">
                    <img src="{{ url_for('static', filename='images/graduate_icon1.png') }}" alt="">
                    <p>Graduate</p>
                </div>
                <div id="masteral_tab" class="side-bar-tabs">
                    <img src="{{ url_for('static', filename='images/masteral_icon1.png') }}" alt="">
                    <p>Masteral</p>
                </div>
                <div id="dissertation_tab" class="side-bar-tabs">
                    <img src="{{ url_for('static', filename='images/dissertation_icon1.png') }}" alt="">
                    <p>Dissertation</p>
                </div>
                <div id="doctorate_tab" class="side-bar-tabs">
                    <img src="{{ url_for('static', filename='images/doctorate_icon1.png') }}" alt="">
                    <p>Doctorate</p>
                </div>
            </div>
            <div class="main-content-container">
                <div class="whole">
                    <div class="arrow_back">
                        <a href="#">
                            <img src="{{ url_for('static', filename='images/arrow.png') }}" alt="arrow" class="arrow-img">
                        </a>
                    </div><br>
                    <div class="study-title">
                        <form>
                            <label for="studyTitle">STUDY TITLE</label><br>
                            <input type="text" id="studyTitle" name="studyTitle" placeholder="Title"><br>
                        </form>
                    </div>
                    <div class="titles">
                        <div class="published-date">
                            <h3>Published Date</h3>
                        </div>
                        <div class="select-category">
                            <h3>Select Category</h3>
                        </div>
                    </div>

                    <div class="options">

                        <div class="relative max-w-sm">
                            <div class="absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none mx-5">
                                <!-- <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"/>
                                </svg> -->
                            </div>
                            <input datepicker id="default-datepicker" type="text" class="pl-[25px] bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-[20px] dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Select date">
                        </div>                                              
                        

                        <div class="categories">
                            <select name="categories" id="categories">
                            <option value="underGrad">   Under Graduate</option>
                            <option value="grad">   Graduate</option>
                            <option value="diss">   Dissertation</option>
                            <option value="masteral">   Masteral</option>
                            <option value="doctorate">   Doctorate</option>
                            </select>
                        </div>

                    </div><br><br>

                    <h2 class="title-author">Authors</h2><br>

                    <div class="authors-container" id="authors-container">
                        <div class="authors" id="author-template">
                            <div class="authors-fname">
                                <label for="fname">First name:</label>
                                <input type="text" name="fname" placeholder="First Name">
                            </div>
                            <div class="authors-mname">
                                <label for="mname">Middle name:</label>
                                <input type="text" name="mname" placeholder="Middle Name">
                            </div>
                            <div class="authors-lname">
                                <label for="lname">Last name:</label>
                                <input type="text" name="lname" placeholder="Last Name">
                            </div>
                            <img src="{{ url_for('static', filename='images/x.png') }}" alt="x" class="x-img" onclick="removeAuthor(this)">
                        </div>
                    </div>
                    
                    <div class="add-author" onclick="addAuthor()">
                        <img src="{{ url_for('static', filename='images/add.png') }}" alt="add" class="add-img">
                        <p>Add another author</p>
                    </div><br>

                    <h2 class="title-panel">Panels</h2><br>

                    <div class="panels-container" id="panels-container">
                        <div class="panels" id="panel-template">
                            <div class="panels-fname">
                                <form>
                                    <label for="fname">First name:</label><br>
                                    <input type="text" id="pfname" name="fname" placeholder="First Name">
                                </form>
                            </div>
                    
                            <div class="panels-mname">
                                <form>
                                    <label for="mname">Middle name:</label><br>
                                    <input type="text" id="pmname" name="mname" placeholder="Middle Name"><br>
                                </form>
                            </div>
                    
                            <div class="panels-lname">
                                <form>
                                    <label for="lname">Last name:</label><br>
                                    <input type="text" id="plname" name="lname" placeholder="Last Name"><br>
                                </form>
                            </div>
                    
                            <img src="{{ url_for('static', filename='images/x.png') }}" alt="x" class="x-img" onclick="removePanel(this)">
                        </div>
                    </div>
                    
                    <div class="add-panel" onclick="addPanel()">
                        <img src="{{ url_for('static', filename='images/add.png') }}" alt="add" class="add-img">
                        <p> Add another panel</p>
                    </div>
                    
                    <div class="memo">
                        <h1><span>Memorandum of Aggreement</span> (if applicable) </h1><br>      
                        <form>
                            <input type="file" id="memo" name="memo">
                        </form>
                    </div><br>

                    <div class="study-docu">
                        <h1><span>Upload study document</span> </h1><br>      
                        <form>
                            <input type="file" id="study-docu" name="study-docu">
                        </form>
                    </div>

                        <div class="submit">
                            <button>Submit</button>
                        </div>
                </div>
            </div>
        </div>
    </div>
</body>

<script>
    function addAuthor() {
        const container = document.getElementById("authors-container");
        const template = document.getElementById("author-template");
        const newAuthor = template.cloneNode(true);
        newAuthor.querySelector("input[name='fname']").value = "";
        newAuthor.querySelector("input[name='mname']").value = "";
        newAuthor.querySelector("input[name='lname']").value = "";
        container.appendChild(newAuthor);
    }

    function removeAuthor(element) {
        const container = document.getElementById("authors-container");
        const authorEntries = container.getElementsByClassName("authors");

        // Check if there is more than one author entry before removing
        if (authorEntries.length > 1) {
            const authorEntry = element.closest(".authors");
            if (authorEntry) {
                authorEntry.remove();
            }
        } else {
            alert("At least one author must remain.");
        }
    }
    
    function addPanel() {
        const container = document.getElementById("panels-container");
        const template = document.getElementById("panel-template");
        const newPanel = template.cloneNode(true);
        
        // Clear values for the new panel
        newPanel.querySelector("#pfname").value = "First Name";
        newPanel.querySelector("#pmname").value = "Middle Name";
        newPanel.querySelector("#plname").value = "Last Name";
        
        container.appendChild(newPanel);
    }

    function removePanel(element) {
        const container = document.getElementById("panels-container");
        const panelEntries = container.getElementsByClassName("panels");

        // Ensure at least one panel remains
        if (panelEntries.length > 1) {
            const panelEntry = element.closest(".panels");
            if (panelEntry) {
                panelEntry.remove();
            }
        } else {
            alert("At least one panel must remain.");
        }
    }
</script>

</html>